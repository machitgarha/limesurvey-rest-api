api_version_missing:
  description: Missing API version in the format of v{version}, e.g. v1
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/api_version_missing_error"

bad_request:
  description: Bad request, mostly malformed or invalid request body
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            items:
              $ref: "./schemas/error.yaml#/bad_request_error"

empty_ok:
  description: OK

internal_server_error:
  description: Unknown internal server error
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/internal_server_error"

invalid_credentials:
  description: Invalid username or password
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/invalid_credentials_error"

maintenance_mode:
  description: The site is under maintenance mode (either soft or hard)
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/maintenance_mode_error"

method_not_allowed:
  description: Method not allowed
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/method_not_allowed_error"

not_implemented:
  description: The interface is available, but not yet implemented
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/not_implemented_error"

not_found:
  description: Resource not found

permission_denied:
  description: Permission denied
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/permission_denied_error"

resouce_not_found:
  description: Resource not found
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/resource_not_found_error"

survey_not_active:
  description: The request needs the survey to be active, but currently it is not
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/survey_not_active_error"

too_many_authentication_failures:
  description: Too many authentication failures
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/too_many_authentication_failures_error"

unauthorized:
  description: Unauthorized request
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            # TODO:
            # maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/unauthorized_error"

unsupported_media_type:
  description: Unsupported media type given
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/unsupported_media_type_error"
