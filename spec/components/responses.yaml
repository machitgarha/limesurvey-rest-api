api_version_missing:
  description: Missing API version in the format of v{version}, e.g. v1
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/api_version_missing_error"

bad_request:
  description: Bad request, mostly malformed or invalid request body
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            items:
              $ref: "./schemas/error.yaml#/bad_request_error"

empty_ok:
  description: OK

internal_server_error:
  description: Unknown internal server error
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/internal_server_error"

invalid_credentials:
  description: Invalid username or password
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/invalid_credentials_error"

method_not_allowed:
  description: Method not allowed
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/method_not_allowed_error"

not_found:
  description: Resource not found

permission_denied:
  description: Permission denied
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/permission_denied_error"

too_many_authentication_failures:
  description: Too many authentication failures
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/too_many_authentication_failures_error"

unauthorized:
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            # TODO:
            # maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/unauthorized_error"
  description: Unauthorized request

unsupported_media_type:
  description: Unsupported media type given
  content:
    application/json:
      schema:
        type: object
        required: [errors]
        properties:
          errors:
            type: array
            minItems: 1
            maxItems: 1
            items:
              $ref: "./schemas/error.yaml#/unsupported_media_type_error"
