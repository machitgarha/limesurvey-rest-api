post:
  summary: Validates a possibly-partial response
  parameters:
    - $ref: "../../components/parameters.yaml#/survey_id"
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required: [data]
          properties:
            data:
              allOf:
                - oneOf:
                    - type: object
                      description: When the survey format is question-by-question
                      required: [question_id]
                      properties:
                        question_id:
                          $ref: "../../components/schemas/question.yaml#/question_id"
                    - type: object
                      description: When the survey format is group-by-group
                      required: [question_group_id]
                      properties:
                        question_group_id:
                          $ref: "../../components/schemas/question_group.yaml#/question_group_id"
                    - type: object
                      description: When the survey format is all-in-one
                - $ref: "../../components/schemas/response.yaml#/response"
  responses:
    "200":
      description: Created
    "400":
      $ref: "../../components/responses.yaml#/bad_request"
    "401":
      $ref: "../../components/responses.yaml#/unauthorized"
    "403":
      $ref: "../../components/responses.yaml#/permission_denied"
    "409":
      $ref: "../../components/responses.yaml#/survey_not_active"
